const translations = {
    en: {
        nav: {
            home: 'Home',
            services: 'Services',
            about: 'About',
            contact: 'Contact'
        },
        hero: {
            title: 'Transforming Ideas into Digital Excellence',
            subtitle: 'Leading software solutions provider in Algeria, delivering innovative technology solutions for businesses worldwide',
            cta: 'Start Your Project',
            explore: 'Explore Solutions'
        },
        services: {
            title: 'Our Solutions',
            subtitle: 'Comprehensive Digital Services',
            description: 'Empowering businesses with cutting-edge technology solutions',
            custom: {
                title: 'Custom Software Development',
                description: 'Tailored solutions designed to meet your specific business needs',
                features: ['Enterprise Solutions', 'Web Applications', 'API Integration']
            },
            mobile: {
                title: 'Mobile Development',
                description: 'Native and cross-platform mobile applications',
                features: ['iOS Development', 'Android Development', 'Flutter Apps']
            },
            cloud: {
                title: 'Cloud Solutions',
                description: 'Scalable cloud infrastructure and services',
                features: ['Cloud Migration', 'DevOps Services', 'Cloud Security']
            }
        },
        about: {
            title: 'Leading Innovation in Algeria',
            description: 'InnoSoft Algeria is a premier software development company dedicated to delivering exceptional digital solutions. With years of experience and a team of skilled professionals, we help businesses transform their digital presence.',
            stats: {
                success: 'Project Success Rate',
                support: '24/7 Client Support',
                satisfaction: 'Client Satisfaction'
            }
        },
        contact: {
            title: 'Start Your Project',
            subtitle: "Let's discuss how we can help your business grow",
            form: {
                name: 'Full Name',
                email: 'Email Address',
                phone: 'Phone Number',
                message: 'Message',
                send: 'Send Message'
            },
            location: 'Location',
            address: 'Algiers, Algeria'
        }
    },
    fr: {
        nav: {
            home: 'Accueil',
            services: 'Services',
            about: 'À Propos',
            contact: 'Contact'
        },
        hero: {
            title: 'Transformer les Idées en Excellence Numérique',
            subtitle: 'Leader des solutions logicielles en Algérie, fournissant des solutions technologiques innovantes aux entreprises du monde entier',
            cta: 'Démarrer Votre Projet',
            explore: 'Explorer les Solutions'
        },
        services: {
            title: 'Nos Solutions',
            subtitle: 'Services Numériques Complets',
            description: 'Accompagner les entreprises avec des solutions technologiques de pointe',
            custom: {
                title: 'Développement Logiciel Sur Mesure',
                description: 'Solutions personnalisées conçues pour répondre à vos besoins spécifiques',
                features: ['Solutions Entreprise', 'Applications Web', 'Intégration API']
            },
            mobile: {
                title: 'Développement Mobile',
                description: 'Applications mobiles natives et multiplateformes',
                features: ['Développement iOS', 'Développement Android', 'Applications Flutter']
            },
            cloud: {
                title: 'Solutions Cloud',
                description: 'Infrastructure et services cloud évolutifs',
                features: ['Migration Cloud', 'Services DevOps', 'Sécurité Cloud']
            }
        },
        about: {
            title: "Leader de l'Innovation en Algérie",
            description: 'InnoSoft Algérie est une société de développement logiciel de premier plan dédiée à fournir des solutions numériques exceptionnelles. Avec des années d\'expérience et une équipe de professionnels qualifiés, nous aidons les entreprises à transformer leur présence numérique.',
            stats: {
                success: 'Taux de Réussite des Projets',
                support: 'Support Client 24/7',
                satisfaction: 'Satisfaction Client'
            }
        },
        contact: {
            title: 'Démarrer Votre Projet',
            subtitle: 'Discutons de la façon dont nous pouvons aider votre entreprise à se développer',
            form: {
                name: 'Nom Complet',
                email: 'Adresse Email',
                phone: 'Numéro de Téléphone',
                message: 'Message',
                send: 'Envoyer le Message'
            },
            location: 'Localisation',
            address: 'Alger, Algérie'
        }
    },
    ar: {
        nav: {
            home: 'الرئيسية',
            services: 'الخدمات',
            about: 'من نحن',
            contact: 'اتصل بنا'
        },
        hero: {
            title: 'تحويل الأفكار إلى تميز رقمي',
            subtitle: 'الشركة الرائدة في حلول البرمجيات في الجزائر، نقدم حلولاً تكنولوجية مبتكرة للشركات في جميع أنحاء العالم',
            cta: 'ابدأ مشروعك',
            explore: 'استكشف الحلول'
        },
        services: {
            title: 'حلولنا',
            subtitle: 'خدمات رقمية شاملة',
            description: 'تمكين الشركات بأحدث الحلول التكنولوجية',
            custom: {
                title: 'تطوير برمجيات مخصصة',
                description: 'حلول مصممة خصيصاً لتلبية احتياجات عملك',
                features: ['حلول المؤسسات', 'تطبيقات الويب', 'تكامل API']
            },
            mobile: {
                title: 'تطوير تطبيقات الجوال',
                description: 'تطبيقات جوال أصلية ومتعددة المنصات',
                features: ['تطوير iOS', 'تطوير Android', 'تطبيقات Flutter']
            },
            cloud: {
                title: 'حلول سحابية',
                description: 'بنية تحتية وخدمات سحابية قابلة للتطوير',
                features: ['الترحيل السحابي', 'خدمات DevOps', 'الأمن السحابي']
            }
        },
        about: {
            title: 'رواد الابتكار في الجزائر',
            description: 'إنوسوفت الجزائر هي شركة رائدة في تطوير البرمجيات متخصصة في تقديم حلول رقمية استثنائية. مع سنوات من الخبرة وفريق من المحترفين المهرة، نساعد الشركات في تحويل تواجدها الرقمي.',
            stats: {
                success: 'معدل نجاح المشاريع',
                support: 'دعم العملاء 24/7',
                satisfaction: 'رضا العملاء'
            }
        },
        contact: {
            title: 'ابدأ مشروعك',
            subtitle: 'دعنا نناقش كيف يمكننا مساعدة عملك على النمو',
            form: {
                name: 'الاسم الكامل',
                email: 'البريد الإلكتروني',
                phone: 'رقم الهاتف',
                message: 'الرسالة',
                send: 'إرسال الرسالة'
            },
            location: 'الموقع',
            address: 'الجزائر العاصمة، الجزائر'
        }
    }
};

// Initialize language switcher
document.addEventListener('DOMContentLoaded', function() {
    // Get the select element
    const languageSelect = document.getElementById('languageSelect');
    if (!languageSelect) return;

    // Set initial language from localStorage or default to 'en'
    const currentLang = localStorage.getItem('language') || 'en';
    languageSelect.value = currentLang;
    setLanguage(currentLang);

    // Add change event listener
    languageSelect.addEventListener('change', function() {
        setLanguage(this.value);
    });
});

// Function to set language
function setLanguage(lang) {
    // Save to localStorage
    localStorage.setItem('language', lang);

    // Set RTL for Arabic
    document.dir = lang === 'ar' ? 'rtl' : 'ltr';

    // Update all elements with data-i18n attribute
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const keys = element.getAttribute('data-i18n').split('.');
        let value = translations[lang];
        
        // Get nested translation
        for (const key of keys) {
            if (value && value[key]) {
                value = value[key];
            } else {
                console.warn(`Translation missing: ${keys.join('.')} (${lang})`);
                return;
            }
        }

        // Set text content or placeholder
        if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
            element.placeholder = value;
        } else {
            element.textContent = value;
        }
    });
}
